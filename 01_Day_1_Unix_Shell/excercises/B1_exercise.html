
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work with the bash shell &#8212; Python essentials for GIS learners</title>
    
  <link rel="stylesheet" href="../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "the-magnificents/04-02-2021-Carpentry-for-HGIS");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Excercise variables, values, inputs, outputs" href="B2_Exercise.html" />
    <link rel="prev" title="EXERCISES DAY 1" href="B0_Excercise.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Python essentials for GIS learners</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="current nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../00_Lesson_prep/00_README.html">
   Preparing for the workshop
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../00_Lesson_prep/01_About_this_workshop.html">
     General considerations for this workshop
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../00_Lesson_prep/Schedule.html">
     Schedule overview
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="../00_README.html">
   Day 1: Introduction to Unix Shell, Python and Jupyter Lab
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../A1_unix_lesson1.html">
     Day 1 visuals/information to add (maybe slides):
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../A2_Runing_quiting.html">
     Getting Started with JupyterLab
    </a>
   </li>
   <li class="toctree-l2 current active collapsible-parent">
    <a class="reference internal" href="B0_Excercise.html">
     EXERCISES DAY 1
    </a>
    <ul class="current collapse-ul">
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Work with the bash shell
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="B2_Exercise.html">
       Excercise variables, values, inputs, outputs
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="B3_Exercise.html">
       Exercise types and built-in functions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="B4_Exercise.html">
       Built-in Functions and Help
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="B5_Exercise.html">
       Working with libraries
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../02_Day_2_QGIS/00_README.html">
   Working with the Python console in QGIS
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_Day_2_QGIS/A1_qgis_lesson1.html">
     Programmatically access the attributes of international airports
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_Day_2_QGIS/B0_exercise1_qgis.html">
     Exercise 1: Running someone else’s Python script
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../02_Python_Draw_GIS/00_README.html">
   Day 2
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_Python_Draw_GIS/01_lesson.html">
     Using and reading other people’s code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_Python_Draw_GIS/02_lesson.html">
     Variables (and constants)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_Python_Draw_GIS/03_lesson.html">
     Go from for loops and while loops to functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02_Python_Draw_GIS/C1_Python_Standard_Library.html">
     Python standard libraries
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../03_Day_3_Git/00_README.html">
   Day 3: Social coding on GitHub and version control with Git
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../03_Day_3_Git/A1_git_lesson1.html">
     Day 3 visuals/information (maybe slides):
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../Instructor_notes/00_README.html">
   Instructor notes
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../Instructor_notes/01_Notes_From_DH_context.html">
     Guide to programing with Python for the Digital Humanities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Instructor_notes/git_instructor_notes.html">
     Instructor Notes: Python Essentials for GIS Learners Day 3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Instructor_notes/open_science_instructor_notes.html">
     Open Science
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Instructor_notes/python_instructor_notes.html">
     About these instructor notes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../Instructor_notes/unix_instructor_notes.html">
     Instructor Notes: Python Essentials for GIS Learners Day 1
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/01_Day_1_Unix_Shell/excercises/B1_exercise.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#select-and-concatenate-data-files">
   Select and concatenate data files
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="work-with-the-bash-shell">
<h1>Work with the bash shell<a class="headerlink" href="#work-with-the-bash-shell" title="Permalink to this headline">¶</a></h1>
<div class="section" id="select-and-concatenate-data-files">
<h2>Select and concatenate data files<a class="headerlink" href="#select-and-concatenate-data-files" title="Permalink to this headline">¶</a></h2>
<p>In Bash, <code class="docutils literal notranslate"><span class="pre">*</span></code> is a wildcard, which matches zero or more characters. When the shell sees a wildcard, it expands the wildcard to create a list of matching filenames before running the command that was asked for. As an exception, if a wildcard expression does not match any file, Bash will pass the expression as an argument to the command as it is. For example typing <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">*.pdf</span></code> in the <code class="docutils literal notranslate"><span class="pre">cities_data/</span></code> directory (which does not contains any pdf files) results in an error message that there is no file called <code class="docutils literal notranslate"><span class="pre">*.pdf</span></code>.</p>
<p>Here’s how the wildcard works in practice: <code class="docutils literal notranslate"><span class="pre">*.csv</span></code> matches amsterdam-nl.csv, eindhoven-nl.csv and every file that ends with ‘.csv’. On the other hand, <code class="docutils literal notranslate"><span class="pre">n*.csv</span></code> only matches newyorkcity-us.csv because the ‘n’ at the front only matches filenames that begin with the letter ‘n’.</p>
<div class="admonition-exercise-explore-data-files admonition">
<p class="admonition-title">Exercise: Explore data files</p>
<p>Take a look at the contents of the <code class="docutils literal notranslate"><span class="pre">cities_data/</span></code> directory. Use <code class="docutils literal notranslate"><span class="pre">ls</span></code> and <code class="docutils literal notranslate"><span class="pre">cat</span></code> to inspect the names, file extensions and contents of the files. What patterns and information do you see? <strong>Tip:</strong> you can write your observations in comments section of the workshop website, and see what others observed! :)</p>
</div>
<p>:::{admonition} See Solution
:class: tip, dropdown
The names of all the .csv and text files in the <code class="docutils literal notranslate"><span class="pre">cities_data/</span></code> directory follow a standard pattern, <code class="docutils literal notranslate"><span class="pre">cityname-countrycode.csv</span></code> or <code class="docutils literal notranslate"><span class="pre">cityname-countrycode.txt</span></code>. This is good practice when working with Bash - it is much easier to ask the computer to find and do something with files that match a convention in their names. You’ll also see that there are no spaces in any filenames, and no capital letters. Instead, we see a lot of dashes.</p>
<p>We have three types of data files in the <code class="docutils literal notranslate"><span class="pre">cities_data/</span></code> directory: .txt, .csv, and .md. The only .md file is called README.md, and contains some very brief information about the data and the imaginary project they were collected for. It is good practice as well to include a README.md file with any code or data project, and to fill it (much better than we did here) with documentation that can help you or someone else replicate the data and/or the results of your research.
:::</p>
<div class="admonition-exercise-select-and-concatenate-data-files admonition">
<p class="admonition-title">Exercise: Select and concatenate data files</p>
<p>Right now, the data for each city in the <code class="docutils literal notranslate"><span class="pre">cities_data/</span></code> folder are each stored in separate files per city. That might be helpful for some applications, but we want a list of data in one .csv file. How could we do that?</p>
</div>
<p>:::{admonition} See Solution
:class: tip, dropdown
We can use the wildcard <code class="docutils literal notranslate"><span class="pre">*</span></code> to grab all the .csv files this time in the <code class="docutils literal notranslate"><span class="pre">cities_data</span></code> folder. We want to concatenate all files related to cities in the Netherlands, so we should use <code class="docutils literal notranslate"><span class="pre">*-nl.csv</span></code> to match all the files from the Netherlands in the directory. We use the <code class="docutils literal notranslate"><span class="pre">awk</span></code> command (used for pattern scanning and processing) along with the 1 flag which automatically inserts a new line between the data from each of the separate files. The <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> symbol will concatenate the contents of all files that match this naming pattern to a new file that we define, in this case called netherlands-cities.csv.</p>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">awk</span> <span class="pre">1</span> <span class="pre">*-nl.csv</span> <span class="pre">&gt;</span> <span class="pre">netherlands-cities.csv</span></code></p>
<p>You can use <code class="docutils literal notranslate"><span class="pre">ls</span></code> to see the files in the <code class="docutils literal notranslate"><span class="pre">cities_data/</span></code> folder, and <code class="docutils literal notranslate"><span class="pre">cat</span></code> to check out the contents of the newly created <code class="docutils literal notranslate"><span class="pre">netherlands-cities.csv</span></code>.
:::</p>
<div class="admonition-exercise-add-data-to-netherlands-cities-csv admonition">
<p class="admonition-title">Exercise: add data to netherlands-cities.csv</p>
<p>Right now, the netherlands-cities.csv file contains geographic and population data for the 5 largest cities in the Netherlands (Amsterdam, Eindhoven, Rotterdam, The Hague and Utrecht). A good start, but there are many more places of interest in the Netherlands! Add a few more cities to the netherlands-cities.csv file using nano on the command line. Don’t forget to keep the same format as the rest of the data: c,cityname,lat,lon,population. <strong>Bonus:</strong> add info about the source(s) of your population data by editing the README.md file.</p>
</div>
<p>:::{admonition} See Solution
:class: tip, dropdown
Use nano to open the netherlands-cities.csv file to add some data for other cities in the Netherlands. Make sure you start a new line for each city you add.</p>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">nano</span> <span class="pre">netherlands-cities.csv</span></code></p>
<p>Hit shift + control + O to “WriteOut” the file (save it). Nano will ask you if you want to save this file with the same name, and we do, so hit enter. You can then hit shift + control + X to exit the Nano text editor and get back to your bash shell.</p>
<p>You can do the same process to edit the README.md file: <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">README.md</span></code> will open the editor and allow you to insert information about the sources of your data.</p>
<p>If you now use cat to check out the contents of your file(s), you should see the changes you’ve made:</p>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">cat</span> <span class="pre">netherlands-cities.csv</span></code> ; <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">README.md</span></code>
:::</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./01_Day_1_Unix_Shell\excercises"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="B0_Excercise.html" title="previous page">EXERCISES DAY 1</a>
    <a class='right-next' id="next-link" href="B2_Exercise.html" title="next page">Excercise variables, values, inputs, outputs</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By The Jupyter Book community<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>